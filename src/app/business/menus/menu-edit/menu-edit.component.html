<section>
  <div class="row">
    <div class="col-lg-12">
      <div class="panel with-nav-tabs panel-primary panel-square panel-no-border">
        <div>
          <form nz-form [formGroup]="validateForm" class="login-form form-center" (ngSubmit)="_submitForm()" id="addUserForm">
            <div nz-form-item>
              <div nz-form-control>
                <nz-select formControlName="menuLevel" [(ngModel)]="formData.level"
                           [nzPlaceHolder]="'选择菜单级别'" nzAllowClear
                           (ngModelChange) = "changeMenuLevel()">
                  <nz-option
                    *ngFor="let option of menuLevels"
                    [nzLabel]="option.label"
                    [nzValue]="option.value">
                  </nz-option>
                </nz-select>
                <div nz-form-explain
                     *ngIf="validateForm.controls.menuLevel.dirty&&validateForm.controls.menuLevel.hasError('required')">
                  请选择菜单级别
                </div>
              </div>
            </div>
            <div nz-form-item>
              <div nz-form-control>
                <nz-input formControlName="name" [(ngModel)]="formData.name" [nzPlaceHolder]="'名称'" [nzSize]="'large'">
                  <ng-template #prefix>
                    <i class="anticon anticon-menu-fold"></i>
                  </ng-template>
                </nz-input>
                <div nz-form-explain
                     *ngIf="validateForm.controls.name.dirty&&validateForm.controls.name.hasError('required')">
                  菜单名称不能为空!
                </div>
                <div nz-form-explain
                     *ngIf="validateForm.controls.name.dirty&&validateForm.controls.name.hasError('maxlength')">
                  菜单名称长度在1-6个字符之间!
                </div>
              </div>
            </div>
            <div nz-form-item id="menuTarget">
              <div nz-form-control>
                <nz-input formControlName="target" [(ngModel)]="formData.target" [nzPlaceHolder]="'地址'" [nzSize]="'large'">
                  <ng-template #prefix>
                    <i class="anticon anticon-link"></i>
                  </ng-template>
                </nz-input>
                <div nz-form-explain
                     *ngIf="validateForm.controls.target.dirty&&validateForm.controls.target.hasError('required')">
                  菜单地址不能为空!
                </div>
                <div nz-form-explain
                     *ngIf="validateForm.controls.target.dirty&&validateForm.controls.target.hasError('maxlength')">
                  菜单地址长度在1-24个字符之间!
                </div>
              </div>
            </div>
            <div nz-form-item id="topMenu" style="display: none;">
              <div nz-form-control>
                <nz-select formControlName="topMenu" [(ngModel)]="formData.parentId"
                           [nzPlaceHolder]="'选择一级菜单'" nzAllowClear>
                  <nz-option
                    *ngFor="let option of tops"
                    [nzLabel]="option.name"
                    [nzValue]="option.id">
                  </nz-option>
                </nz-select>
                <div nz-form-explain
                     *ngIf="validateForm.controls.topMenu.dirty&&validateForm.controls.topMenu.hasError('required')">
                  请选择二级菜单级别
                </div>
              </div>
            </div>
            <div nz-form-item>
              <div nz-form-control>
                <nz-input formControlName="description" [(ngModel)]="formData.description" [nzPlaceHolder]="'备注'" [nzSize]="'large'">
                  <ng-template #prefix>
                    <i class="anticon anticon-bulb"></i>
                  </ng-template>
                </nz-input>
              </div>
            </div>
            <div class="btn-center" nz-form-control>
              <div nz-form-item>
                <button nz-button [nzType]="'primary'" [nzSize]="''">保存
                </button>

                <a class="btn btn-default btn-sm" (click)="backToList()">返回
                </a>
              </div>
            </div>

          </form>
        </div>
      </div>
    </div>
  </div>
</section>
